install.packages("readxl")
library("readxl")
#Import HP data downloaded from Dallas Fed
read_excel("hp1902.xlsx")
setwd("~/GitHub/HPCredit/Data Collection")
read_excel("hp1902.xlsx")
HPI = read_excel("HPI.xlsx")
HPI = read_excel("hp1902.xlsx")
HPI = read_excel("HPI.xlsx")
PDI = read_excel("PDI.xlsx")
View(HPI)
View(HPI)
HPI = HPI[-1]
HPI = read_excel("HPI.xlsx")
HPI = HPI[:-1]
HPI = read_excel("HPI.xlsx")
HPI = HPI[:-2]
HPI = HPI[-c(1)]
HPI = HPI[:-c(1)]
HPI = read_excel("HPI.xlsx")
HPI = HPI[-c(1),]
name(HPI[1])=date
names(HPI)[1] = "date"
names(HPI)[1] = "Date"
View(HPI)
HPI = read_excel("HPI.xlsx")
HPI = HPI[-c(1),-c(-2)]
HPI = read_excel("HPI.xlsx")
HPI = HPI[-c(1),]
HPI = melt(HPI, id=c("date"))
library(reshape)
install.packages("reshape")
HPI = melt(HPI, id=c("date"))
library(reshape)
HPI = melt(HPI, id=c("date"))
HPI = melt(HPI, id=c("Date"))
HPI = HPI[-c(1),]
names(HPI)[1] = "Date"
HPI = melt(HPI, id=c("Date"))
HPI = melt(HPI, id="Date")
HPI = as.data.frame(HPI)
HPI = melt(HPI, id="Date")
View(PDI)
HPI = HPI[,(ncol(HPI)-1):ncol(HPI)]
HPI = read_excel("HPI.xlsx")
#Cleaning up data
HPI = HPI[-c(1),]
HPI = HPI[,(ncol(HPI)-1):ncol(HPI)]
HPI = read_excel("HPI.xlsx")
#Cleaning up data
HPI = HPI[-c(1),]
HPI = HPI[,-((ncol(HPI)-1):ncol(HPI))]
names(HPI)[1] = "Date"
HPI = as.data.frame(HPI)
HPI = melt(HPI, id="Date")
PDI = PDI[-c(1),]
PDI = PDI[,-((ncol(PDI)-1):ncol(PDI))] #select last columns
names(PDI)[1] = "Date"
PDI = as.data.frame(PDI) #melt functions need data to be as data frame
PDI = melt(PDI, id="Date")
names(HPI)[3] = "HPI"
names(PDI)[3] = "PDI"
## Merge data
HPinc <- merge(HPI, PDI, by=c("variable","date"), all.x=TRUE)
## Merge data
HPinc <- merge(HPI, PDI, by=c("variable","Date"), all.x=TRUE)
View(HPinc)
names(HPinc)[1] = "ID"
names(HPinc)[1] = "ID"
library("readxl")
library(reshape)
#Import HP data downloaded from Dallas Fed
setwd("~/GitHub/HPCredit/Data Collection")
HPI = read_excel("HPI.xlsx")
PDI = read_excel("PDI.xlsx")
View(HPI)
#Cleaning up data
HPI = HPI[-c(1),]
HPI = HPI[,-((ncol(HPI)-1):ncol(HPI))] #select last columns
#data[,(ncol(data)-2):ncol(data)]
names(HPI)[1] = "date"
HPI = as.data.frame(HPI) #melt functions need data to be as data frame
HPI = melt(HPI, id="date")
names(HPI)[3] = "HPI"
#############
View(PDI)
PDI = PDI[-c(1),]
PDI = PDI[,-((ncol(PDI)-1):ncol(PDI))] #select last columns
names(PDI)[1] = "date"
PDI = as.data.frame(PDI) #melt functions need data to be as data frame
PDI = melt(PDI, id="date")
names(PDI)[3] = "PDI"
## Merge data
HPinc <- merge(HPI, PDI, by=c("variable","date"), all.x=TRUE)
names(HPinc)[1] = "ID"
attach(HPinc)
HPinc$HPinc = HPinc$HPI/HPinc$PDI
write.table(HPinc, "HPinc_full.txt", sep=",")
HPinc1=HPinc[,-c("HPI","PDI")]
HPinc1=subset(HPinc, -c(HPI,PDI))
HPinc1=subset(HPinc, select=-c(HPI,PDI))
write.table(HPinc, "HPinc.txt", sep=",")
